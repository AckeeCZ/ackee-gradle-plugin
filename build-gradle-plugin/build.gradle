plugins {
    alias libs.plugins.kotlin
    alias libs.plugins.kotlin.dsl
    alias libs.plugins.kotlin.dokka
    alias libs.plugins.nexus.staging
    id("java-gradle-plugin")
    id("maven-publish")
}

dependencies {
    implementation(libs.android.tools.build)
    implementation(libs.kotlin.gradlePlugin)
    implementation(libs.kotlin.stdlib)
}

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

ext {
    PUBLISH_ARTIFACT_ID = 'build-gradle-plugin'
    POM_DESCRIPTION = 'Gradle plugin with some useful configuration shared among projects'
}

ext.libProperties = new Properties()
ext.libProperties.load(file("${rootDir}/lib.properties").newReader())

gradlePlugin {
    plugins {
        simplePlugin {
            id = 'cz.ackee.build'
            implementationClass = 'cz.ackee.gradle.AckeePluginKotlin'
        }
    }
}


apply from: "${rootProject.projectDir}/gradle/mavencentral/publish.gradle"
